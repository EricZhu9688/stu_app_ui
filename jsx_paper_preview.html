<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>精准练习详情</title>
    <script src="js/tailwind.min.js"></script>
    <script src="js/lucide.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Custom Checkbox Style */
        .custom-checkbox:checked {
            background-color: #09C0D7;
            border-color: #09C0D7;
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        }
    </style>
</head>

<body class="pb-24 bg-gray-50">

    <!-- 1. Header -->
    <div class="bg-gradient-to-br from-[#09C0D7] to-[#06A2B5] text-white p-4 pt-8 sticky top-0 z-20 shadow-md">
        <div class="flex items-center justify-between">
            <button onclick="history.back()" class="p-1 rounded-full hover:bg-white/20 transition-colors">
                <i data-lucide="chevron-left" class="w-6 h-6"></i>
            </button>
            <h1 class="text-lg font-bold">精准练习详情</h1>
            <div class="flex gap-2">
                <button class="p-1 rounded-full hover:bg-white/20 transition-colors">
                    <i data-lucide="more-horizontal" class="w-6 h-6"></i>
                </button>
                <button class="p-1 rounded-full hover:bg-white/20 transition-colors">
                    <i data-lucide="disc" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- 2. Info Bar & Controls -->
    <div class="bg-white p-4 shadow-sm sticky top-[72px] z-10 border-b border-gray-100">
        <div class="flex justify-between items-start mb-3">
            <div>
                <h2 class="font-bold text-gray-800 text-lg">三年级语文-精准练习</h2>
                <p class="text-xs text-gray-400 mt-1">2025-05-01 15:24</p>
            </div>
        </div>

        <div class="flex justify-between items-center text-sm">
            <div class="flex items-center gap-4">
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox"
                        class="w-4 h-4 rounded border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7] custom-checkbox"
                        checked>
                    <span class="text-gray-600 text-xs">全选 (已选: 4/4)</span>
                </label>
                <button class="flex items-center gap-1 text-[#FF5E5E] text-xs hover:opacity-80">
                    <i data-lucide="trash-2" class="w-3.5 h-3.5"></i> 清空已选
                </button>
            </div>
            <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 rounded-full border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7]">
                <span class="text-gray-600 text-xs">屏蔽原题</span>
            </label>
        </div>
    </div>

    <!-- 3. Question List -->
    <div class="p-4 space-y-4">

        <!-- Question 1: Original -->
        <div class="bg-white rounded-2xl p-4 shadow-sm border border-cyan-100 relative overflow-hidden">
            <div class="flex justify-between items-start mb-2">
                <div class="flex items-center gap-2">
                    <input type="checkbox"
                        class="w-5 h-5 rounded border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7] custom-checkbox"
                        checked>
                    <span
                        class="bg-cyan-50 text-[#09C0D7] text-[10px] font-bold px-2 py-0.5 rounded border border-cyan-100">原题</span>
                </div>
                <button class="text-gray-400 hover:text-red-500">
                    <i data-lucide="x-circle" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="text-sm text-gray-700 leading-relaxed mb-4 pl-7">
                把一个棱长为6cm的正方体削成一个最大的圆柱，圆柱的体积是（ ）成一个最大的圆锥，圆锥的体积是（ ）cm3。
            </div>

            <div class="flex justify-between items-center pl-7 text-xs text-gray-400 border-t border-gray-50 pt-3">
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-0.5 text-yellow-400">
                        难度: <i data-lucide="star" class="w-3 h-3 fill-current"></i><i data-lucide="star"
                            class="w-3 h-3 fill-current"></i><i data-lucide="star" class="w-3 h-3 fill-current"></i>
                    </div>
                    <span>题型: 填空题</span>
                </div>
                <button onclick="toggleAnalysis(this)" class="text-[#09C0D7] flex items-center gap-1 font-medium">
                    解析 <i data-lucide="chevron-up" class="w-3 h-3"></i>
                </button>
            </div>

            <!-- Analysis Content (Expanded) -->
            <div class="mt-3 pl-7 text-xs bg-gray-50 p-3 rounded-lg space-y-2">
                <div>
                    <span class="font-bold text-gray-800">【答案】</span> 模型高度为0.66米
                </div>
                <div>
                    <span class="font-bold text-gray-800">【解析】</span> 因为模型高度与实际高度比例是1:500，所以模型高度为 330÷500=0.66
                </div>
            </div>
        </div>

        <!-- Question 2: Variation -->
        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden">
            <div class="flex justify-between items-start mb-2">
                <div class="flex items-center gap-2">
                    <input type="checkbox"
                        class="w-5 h-5 rounded border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7] custom-checkbox">
                    <span
                        class="bg-purple-50 text-purple-600 text-[10px] font-bold px-2 py-0.5 rounded border border-purple-100">变式题</span>
                </div>
                <button class="text-gray-400 hover:text-red-500">
                    <i data-lucide="x-circle" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="text-sm text-gray-700 leading-relaxed mb-4 pl-7">
                把一个棱长为9cm的正方体削成一个最大的圆柱，圆柱的体积是（ ）成一个最大的圆锥，圆锥的体积是（ ）cm3。
            </div>

            <div class="flex justify-between items-center pl-7 text-xs text-gray-400 border-t border-gray-50 pt-3">
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-0.5 text-yellow-400">
                        难度: <i data-lucide="star" class="w-3 h-3 fill-current"></i><i data-lucide="star"
                            class="w-3 h-3 fill-current"></i>
                    </div>
                    <span>题型: 填空题</span>
                </div>
                <div class="flex gap-3">
                    <button class="text-[#09C0D7] font-medium hover:underline">换一题</button>
                    <button onclick="toggleAnalysis(this)" class="text-[#09C0D7] flex items-center gap-1 font-medium">
                        解析 <i data-lucide="chevron-down" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- Analysis Content (Collapsed) -->
            <div class="hidden mt-3 pl-7 text-xs bg-gray-50 p-3 rounded-lg space-y-2">
                <div>
                    <span class="font-bold text-gray-800">【答案】</span> 略
                </div>
            </div>
        </div>

        <!-- Question 3: Variation -->
        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden">
            <div class="flex justify-between items-start mb-2">
                <div class="flex items-center gap-2">
                    <input type="checkbox"
                        class="w-5 h-5 rounded border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7] custom-checkbox">
                    <span
                        class="bg-purple-50 text-purple-600 text-[10px] font-bold px-2 py-0.5 rounded border border-purple-100">变式题</span>
                </div>
                <button class="text-gray-400 hover:text-red-500">
                    <i data-lucide="x-circle" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="text-sm text-gray-700 leading-relaxed mb-4 pl-7">
                把一个棱长为6cm的正方体削成一个最大的圆柱，圆柱的体积是（ ）成一个最大的圆锥，圆锥的体积是（ ）cm3。
            </div>

            <div class="flex justify-between items-center pl-7 text-xs text-gray-400 border-t border-gray-50 pt-3">
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-0.5 text-yellow-400">
                        难度: <i data-lucide="star" class="w-3 h-3 fill-current"></i><i data-lucide="star"
                            class="w-3 h-3 fill-current"></i><i data-lucide="star" class="w-3 h-3 fill-current"></i>
                    </div>
                    <span>题型: 填空题</span>
                </div>
                <div class="flex gap-3">
                    <button class="text-[#09C0D7] font-medium hover:underline">换一题</button>
                    <button onclick="toggleAnalysis(this)" class="text-[#09C0D7] flex items-center gap-1 font-medium">
                        解析 <i data-lucide="chevron-down" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>
            <!-- Analysis Content (Collapsed) -->
            <div class="hidden mt-3 pl-7 text-xs bg-gray-50 p-3 rounded-lg space-y-2">
                <div>
                    <span class="font-bold text-gray-800">【答案】</span> 略
                </div>
            </div>
        </div>

        <!-- Question 4: Variation -->
        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden">
            <div class="flex justify-between items-start mb-2">
                <div class="flex items-center gap-2">
                    <input type="checkbox"
                        class="w-5 h-5 rounded border-gray-300 text-[#09C0D7] focus:ring-[#09C0D7] custom-checkbox">
                    <span
                        class="bg-purple-50 text-purple-600 text-[10px] font-bold px-2 py-0.5 rounded border border-purple-100">变式题</span>
                </div>
                <button class="text-gray-400 hover:text-red-500">
                    <i data-lucide="x-circle" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="text-sm text-gray-700 leading-relaxed mb-4 pl-7">
                把一个棱长为6cm的正方体削成一个最大的圆柱，圆柱的体积是（ ）成一个最大的圆锥，圆锥的体积是（ ）cm3。
            </div>

            <div class="flex justify-between items-center pl-7 text-xs text-gray-400 border-t border-gray-50 pt-3">
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-0.5 text-yellow-400">
                        难度: <i data-lucide="star" class="w-3 h-3 fill-current"></i><i data-lucide="star"
                            class="w-3 h-3 fill-current"></i>
                    </div>
                    <span>题型: 填空题</span>
                </div>
                <div class="flex gap-3">
                    <button class="text-[#09C0D7] font-medium hover:underline">换一题</button>
                    <button onclick="toggleAnalysis(this)" class="text-[#09C0D7] flex items-center gap-1 font-medium">
                        解析 <i data-lucide="chevron-down" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>
            <!-- Analysis Content (Collapsed) -->
            <div class="hidden mt-3 pl-7 text-xs bg-gray-50 p-3 rounded-lg space-y-2">
                <div>
                    <span class="font-bold text-gray-800">【答案】</span> 略
                </div>
            </div>
        </div>

    </div>

    <!-- 4. Bottom Action Bar -->
    <div class="fixed bottom-0 w-full bg-white border-t border-gray-100 p-4 shadow-lg z-30">
        <button onclick="showConfirmModal()"
            class="w-full py-3 bg-gradient-to-r from-[#09C0D7] to-[#06A2B5] text-white rounded-full font-bold text-sm shadow-lg shadow-cyan-100 active:scale-95 transition-transform">
            生成PDF (分享/打印)
        </button>
    </div>

    <!-- 5. Confirm Modal -->
    <div id="confirm-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity" onclick="hideConfirmModal()">
        </div>
        <div class="bg-white rounded-2xl p-6 w-[80%] max-w-sm relative z-10 text-center shadow-xl modal-enter">
            <h3 class="text-lg font-bold text-gray-800 mb-2">已选中 4题</h3>
            <p class="text-sm text-gray-500 mb-6">确定要生成精准练习PDF吗？</p>
            <div class="flex gap-3">
                <button onclick="hideConfirmModal()"
                    class="flex-1 py-2.5 border border-gray-200 text-gray-600 rounded-lg font-bold text-sm hover:bg-gray-50">取消</button>
                <button onclick="startGeneration()"
                    class="flex-1 py-2.5 bg-[#09C0D7] text-white rounded-lg font-bold text-sm shadow-md hover:bg-[#08acc0]">确定</button>
            </div>
        </div>
    </div>

    <!-- 6. Loading Modal -->
    <div id="loading-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity"></div>
        <div
            class="bg-white rounded-2xl p-8 w-[80%] max-w-sm relative z-10 text-center shadow-xl flex flex-col items-center">
            <div class="animate-spin rounded-full h-10 w-10 border-4 border-gray-200 border-t-[#09C0D7] mb-4"></div>
            <p class="text-sm font-bold text-gray-600">PDF生成中，请耐心等待...</p>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function toggleAnalysis(btn) {
            const icon = btn.querySelector('i');
            const content = btn.parentElement.nextElementSibling || btn.parentElement.parentElement.nextElementSibling; // Handle different structures if needed, but here structure is consistent
            // Actually, in structure above:
            // For Q1: button is in flex container. nextSibling is Analysis Content.
            // For Q2/3/4: button is in flex container inside flex container. 

            // Let's traverse up to find the container and then find the analysis div
            const card = btn.closest('.bg-white');
            const analysisDiv = card.querySelector('.bg-gray-50'); // The analysis block

            if (analysisDiv.classList.contains('hidden')) {
                analysisDiv.classList.remove('hidden');
                icon.setAttribute('data-lucide', 'chevron-up');
                btn.innerHTML = `解析 <i data-lucide="chevron-up" class="w-3 h-3"></i>`;
            } else {
                analysisDiv.classList.add('hidden');
                icon.setAttribute('data-lucide', 'chevron-down');
                btn.innerHTML = `解析 <i data-lucide="chevron-down" class="w-3 h-3"></i>`;
            }
            lucide.createIcons({ root: btn });
        }

        function showConfirmModal() {
            document.getElementById('confirm-modal').classList.remove('hidden');
        }

        function hideConfirmModal() {
            document.getElementById('confirm-modal').classList.add('hidden');
        }

        function startGeneration() {
            hideConfirmModal();
            document.getElementById('loading-modal').classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('loading-modal').classList.add('hidden');
                alert('PDF生成成功！');
            }, 2000);
        }
    </script>
</body>

</html>