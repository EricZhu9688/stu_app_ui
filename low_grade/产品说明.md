这是一份针对一二年级练习册配套线上系统的**产品设计与开发详细文档**。

---

# 产品设计文档：[练习册品牌名] 智能学习配套系统

## 一、 产品定位与核心理念
*   **定位**：将传统纸质练习册与“AI批改+趣味激励”结合，通过家长端小程序实现“孩子自主学、家长轻松管”。
*   **核心逻辑**：底层数据共用（错题本、进度），表层UI双态（家长严肃模式/孩子闯关模式），以“扫码”作为场景切换的触发点。
*   **一本会说话、会判作业、能养宠物的练习册**

---

## 二、 UI 页面设计建议（双态模式）

### 1. 家长端风格（现有样式，无需大幅改动）
*   **基础作业页**：在图书列表详情中，针对本系列丛书，增加一个**“进入闯关模式”**的彩色浮窗入口。
*   **错题本页**：保持现有专业布局，但在每条错题旁标注“来源：[书名]第X页”。

### 2. 孩子端风格（新增沉浸式子页面）
*   **视觉规范**：高饱和度色彩（如果冻绿、明亮黄）、Q版IP形象引导、大圆角卡片、大尺寸按钮。
*   **核心页面设计**：
    *   **闯关地图页**：以“森林/星际”为背景，展示单元进度，已完成的课时会有亮起的星星。
    *   **趣味播放器**：听故事/看微课时，四周有卡通边框，播放进度条上有“宝箱”锚点。
    *   **批改结果页**：不直接打红叉，满分弹出烟花，有错题则显示“发现小怪兽”。

---

## 三、 核心功能与业务逻辑

### 1. 智能扫码识别逻辑（核心闸口）
用户点击扫一扫后，系统执行以下路径：
*   **识别为激活码**：
    *   未激活：弹出标准风格激活成功页 $\rightarrow$ 引导进入“孩子模式”。
    *   已激活：提示“该书已在书架中”。
*   **识别为内容码（微课/听故事/拍照）**：
    *   已激活：**自动切换UI风格**，进入全屏沉浸式功能页（孩子直接使用）。
    *   未激活：留在家长风格，弹出“请先激活此书”的购买/绑定提示。

### 2. 语文/数学功能实现
*   **语文-听一听**：播放器支持断点续听，听完后自动触发积分结算。
*   **数学/语文-微课**：视频内置互动点（可选），看完后弹出知识点总结。
*   **拍照批改（深度集成）**：
    *   孩子拍照 $\rightarrow$ AI 识别 $\rightarrow$ 结果反馈至孩子端（星星激励）。
    *   **错题流转**：错误题目静默同步至原有“错题本”模块。

---

## 四、 激励方式与积分算法逻辑

### 1. 积分（小星星）获取算法
| 行为类型 | 计算逻辑 | 奖励额度 |
| :--- | :--- | :--- |
| **听故事/看微课** | 观看时长 $\ge$ 90% | 3 颗星 |
| **听故事/看微课** | 观看时长 50%-90% | 1 颗星 |
| **拍照批改** | 正确率 100% | 5 颗星（含 2 颗满分奖） |
| **拍照批改** | 正确率 80%-99% | 3 颗星 |
| **拍照批改** | 正确率 < 80% | 1 颗星（鼓励性奖励） |
| **纠正错题** | 在错题本中重做正确 | 2 颗星（引导修正） |

### 2. 积分消耗与转化
*   **虚拟奖励（系统自动）**：积分可兑换 IP 形象的装饰品（如给小兔子换个书包）、头像框、勋章。
*   **实物/线下奖励（家长介入）**：
    *   孩子在商城点击“兑换冰淇淋/玩具”（由家长预设）。
    *   系统向家长端发送推送：“您的孩子申请用 100 星星兑换 20 分钟动画片时间，是否同意？”

---

## 五、 核心交互业务流程图

1.  **用户路径**：
    `扫码` $\rightarrow$ `判断码类型` $\rightarrow$ `判断激活状态` $\rightarrow$ `进入功能页` $\rightarrow$ `完成学习任务` $\rightarrow$ `结算星星` $\rightarrow$ `同步错题本` $\rightarrow$ `家长收到周报`。
2.  **错题闭环**：
    `孩子拍照发现错题` $\rightarrow$ `存入公共错题池` $\rightarrow$ `孩子在闯关地图触发“消灭怪兽”任务` $\rightarrow$ `重做错题` $\rightarrow$ `错题状态更新为已掌握`。

---

## 六、 练习册使用说明（前言页参考）

**亲爱的家长与小朋友：**
欢迎开启智慧学习之旅！本练习册已为您配备全套 AI 助教功能，请按以下步骤操作：

1.  **第一步：激活图书（家长操作）**
    请打开微信扫描封底/扉页的【激活码】，绑定到您的[作业评价]小程序账号。

2.  **第二步：扫码学习（小朋友操作）**
    *   **听故事/看微课**：扫一扫课页右上角的【功能码】，精彩动画和音频即刻开启。
    *   **智能批改**：写完作业扫一扫【批改码】，AI 老师会瞬间帮你检查对错。

3.  **第三步：收集星星（激励系统）**
    认真听课、做对题目都能获得“小星星”。攒够星星可以去【星星商城】兑换神秘勋章，还可以向爸爸妈妈申请预设的愿望奖励哦！

4.  **第四步：查漏补缺（家长监控）**
    家长可随时在小程序【错题本】中查看孩子的薄弱知识点，系统会自动生成周报，让您对孩子的进步了如指掌。

---

## 七、 给开发者的特别备注
*   **转场动画**：从常规列表进入“孩子模式”时，需添加一个全屏“传送门”或“翻书”动画，以平滑切换视觉冲突。
*   **防刷机制**：同一扫码点位 24 小时内重复观看/提交不再重复给分。
*   **埋点建议**：记录每个微课的点击率和完播率，以便后续优化练习册的内容质量。